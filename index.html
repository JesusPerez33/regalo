<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Para ti con mucho amor ‚ù§Ô∏è</title>
  <style>
    :root{
      --bg1:#ff9a9e; --bg2:#fad0c4; --accent:#ff4d6d;
      --glass: rgba(255,255,255,0.18);
      --glass-2: rgba(255,255,255,0.08);
      --shadow: 0 10px 30px rgba(0,0,0,0.12);
      --radius:18px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    html,body{height:100%;margin:0}
    body{
      background: linear-gradient(135deg,var(--bg1),var(--bg2));
      display:flex;align-items:center;justify-content:center;padding:28px;box-sizing:border-box;
    }
    .card{width:min(920px,98%);background:linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.04));
      border-radius:20px; padding:28px; box-shadow:var(--shadow); position:relative; overflow:hidden;
      backdrop-filter: blur(6px) saturate(120%);}
    header{display:flex;gap:18px;align-items:center}
    .avatar{width:110px;height:110px;border-radius:16px;background:var(--glass-2);display:flex;align-items:center;justify-content:center;overflow:hidden;border:2px solid rgba(255,255,255,0.14)}
    .avatar img{width:100%;height:100%;object-fit:cover}
    .title{flex:1}
    h1{margin:0;font-size:26px;color:#fff;letter-spacing:0.2px}
    p.lead{margin:6px 0 0;color:rgba(255,255,255,0.95)}
    .grid{display:grid;grid-template-columns:1fr 360px;gap:22px;margin-top:18px}
    .panel{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));border-radius:14px;padding:18px}
    .message{min-height:220px;color:#fff;font-size:18px;line-height:1.45;display:flex;align-items:center;justify-content:center;text-align:center;padding:8px}
    .photo{border-radius:12px;overflow:hidden;height:100%;display:flex;align-items:center;justify-content:center}
    .photo img{width:100%;height:100%;object-fit:cover}
    .heart{position:absolute;right:-60px;top:-60px;width:260px;height:260px;transform:rotate(-18deg);opacity:0.12;}
    .footer{margin-top:14px;display:flex;gap:10px;align-items:center;justify-content:space-between;color:rgba(255,255,255,0.9)}
    @media (max-width:860px){.grid{grid-template-columns:1fr} .title h1{font-size:20px}} 
    .pulse{animation:pulse 1.4s infinite ease-in-out}
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.06)}100%{transform:scale(1)}}
    .typed{white-space:pre-wrap;max-width:100%}
    #roseCanvas{position:fixed;left:0;top:0;pointer-events:none;width:100%;height:100%;z-index:9999}
    button{background:var(--accent);border:none;padding:10px 14px;border-radius:10px;color:white;font-weight:600;cursor:pointer}
  </style>
</head>
<body>
  <!-- üåπ Canvas para las rosas -->
  <canvas id="roseCanvas"></canvas>

  <div class="card">
    <svg class="heart" viewBox="0 0 32 29.6" xmlns="http://www.w3.org/2000/svg"><path fill="#ffffff" d="M23.6 0c-2.9 0-5.2 1.9-6 4.3C16.6 1.9 14.3 0 11.4 0 5.1 0 .6 4.9 .6 10.7c0 6.7 6.1 12 15 19 8.9-7 15-12.3 15-19C31.6 4.9 27.1 0 20.8 0z"/></svg>

    <header>
      <div class="avatar" id="avatar">
        <img src="2.jpg" alt="Foto">
      </div>
      <div class="title">
        <h1 id="pageTitle">Para mi futura abogada favorita üíå</h1>
        <p class="lead">Un peque√±o detalle espero y te guste üòÉ</p>
      </div>
      <div style="display:flex;flex-direction:column;gap:8px;align-items:flex-end">
        <button id="revealBtn" class="pulse">Undele aca varias veces</button>
      </div>
    </header>

    <div class="grid">
      <div>
        <div class="panel">
          <div class="message" id="mainMessage">
            <div class="typed" id="typed">Hola mi vida, te amo muchoooo </div>
          </div>
        </div>

        <div class="footer">
          <div>Fecha: <strong id="dateSpan"></strong></div>
          <div style="font-size:20px;opacity:0.9">Hecho con ‚ù§Ô∏è Jesus Perez</div>
        </div>
      </div>

      <div>
        <!-- ‚úÖ Bloque de la foto limpio -->
        <div class="panel photo" id="photoPanel">
          <img id="photo" 
               src="1.jpg" 
               alt="Foto">
        </div>
      </div>
    </div>
  </div>

  <script>
    const typedEl = document.getElementById('typed');
    const revealBtn = document.getElementById('revealBtn');
    const dateSpan = document.getElementById('dateSpan');

    const today = new Date();
    dateSpan.textContent = today.toLocaleDateString('es-CO', {year:'numeric',month:'long',day:'numeric'});

    function typeText(target, text, speed=30){
      target.textContent = '';
      let i=0; clearInterval(target._ti);
      target._ti = setInterval(()=>{ 
        if(i>=text.length){ clearInterval(target._ti); } 
        else{ target.textContent += text[i++]; } 
      }, speed);
    }

    const messages = [
      () => `\n\nMi vida\n\nMe haces muy feliz, gracias por estar ahi‚ù§Ô∏è`,
      () => `\n\nEres una mujer maravillosa, valiente y fuerte \n\nTe mereces siempre lo mejor.\n\n‚ù§Ô∏è`,
      () => `\n\nFeliz d√≠a del amor y la amistad ‚ù§Ô∏è`,
    ];
    function pickMessage(){ return messages[Math.floor(Math.random()*messages.length)](); }

    revealBtn.addEventListener('click', ()=>{
      typeText(typedEl, pickMessage(), 20);
      fireRoses(5); // lanza rosas
    });

    // üåπ ROSAS
    const roseCanvas = document.getElementById('roseCanvas');
    const ctx = roseCanvas.getContext('2d');
    let roses = [];
    function resizeCanvas(){ roseCanvas.width = innerWidth; roseCanvas.height = innerHeight; }
    addEventListener('resize', resizeCanvas); resizeCanvas();

    function spawnRose(){
      const size = 32 + Math.random()*20;
      roses.push({
        x: Math.random()*roseCanvas.width,
        y: -size,
        size: size,
        speed: 1 + Math.random()*2,
        drift: (Math.random()-0.5)*0.5,
        alpha: 1
      });
    }

    function fireRoses(amount=10){
      for(let i=0;i<amount;i++) spawnRose();
      if(!roseLooping) startRoses();
    }

    let roseLooping = false;
    function startRoses(){
      roseLooping = true;
      (function loop(){
        ctx.clearRect(0,0,roseCanvas.width,roseCanvas.height);
        for(let i=0;i<roses.length;i++){
          const r = roses[i];
          r.y += r.speed;
          r.x += r.drift;
          r.alpha -= 0.002;
          ctx.save();
          ctx.globalAlpha = Math.max(r.alpha,0);
          ctx.font = `${r.size}px serif`;
          ctx.fillText('üåπ', r.x, r.y);
          ctx.restore();
          if(r.y > roseCanvas.height + 40 || r.alpha <= 0){
            roses.splice(i,1); i--;
          }
        }
        if(roses.length>0){
          requestAnimationFrame(loop);
        } else {
          roseLooping = false;
        }
      })();
    }

    typeText(typedEl, 'Hola mi vida, te amo muchoooo ', 12);
  </script>
</body>
</html>
